[IDSSettings_Body_Settings]
@           = sz(p,a) ext(1)
BanLabel    = a(rt) enable(ids.EnableBan) sz(a,a) xy(,3)
BanValue    = t(edit) at(number) a(ps) sz(50,a) nl(1,9999) xy($Edit_CommentOffsetX,$Edit_CenterOffsetY) v(ids.BanTimeout) enable(ids.EnableBan)
BanArea     = [IDSSettings_Body_Settings_BanArea]

[IDSSettings_Body_Settings_BanArea]
@           = sz(p,a) a(pt) xy(7)
Ban         = $Check v(ids.EnableBan) xy(,3)

[VirtualKeyboard]
$IsGermanLayout     = f_IsGermanLayout(depend(Layout))
$VkdbNormalFontName = "NormalS"
$VkdbSmalFontName   = "NormalS7"
$VkdbNormalFont	    = f($VkdbNormalFontName)
$VkdbFontExpanded   = f($IsGermanLayout ? $VkdbSmalFontName : $VkdbNormalFontName)
$Vkbd = a(as) xy(5,0)
$VkbdRow = a(la) xy(0,5)
$ShowGermanNames = $IsGermanLayout && !ctl.NumLock.value
@       = t(dialog) mg(8,0,10,11) sz(a,a) alias(virtual_keyboard) round(7,7,23,23) bg(ctl.WndExpand.value? "KbdWindowExpanded":"KbdWindowCollapsed") at(nocaption,noautofocus,noactivate,alwaysontop,fixstyle,dragable,nomirror)
0x01    = [KbdButton] $VkbdRow xy(0,39) use(keyboardType() == #ktJapanese)
0x29    = [KbdButton] $VkbdRow xy(0,39) use(keyboardType() != #ktJapanese)
0x02    = [KbdButton] $Vkbd
0x03    = [KbdButton] $Vkbd
0x04    = [KbdButton] $Vkbd
0x05    = [KbdButton] $Vkbd
0x06    = [KbdButton] $Vkbd
0x07    = [KbdButton] $Vkbd
0x08    = [KbdButton] $Vkbd
0x09    = [KbdButton] $Vkbd
0x0a    = [KbdButton] $Vkbd
0x0b    = [KbdButton] $Vkbd
0x0c    = [KbdButton] $Vkbd
0x0d    = [KbdButton] $Vkbd
0x7d    = [KbdButton]        $Vkbd use(keyboardType() == #ktJapanese)
0x0e    = [KbdButtonBsShort] $Vkbd use(keyboardType() == #ktJapanese)
0x0e    = [KbdButtonBs]      $Vkbd use(keyboardType() != #ktJapanese)
0xe052    = [KbdButton] $Vkbd xy(30,0) visible(ctl.WndExpand.value) $VkdbFontExpanded text($IsGermanLayout ? "Einfg" : "Ins")
0xe047    = [KbdButton] $Vkbd visible(ctl.WndExpand.value) $VkdbFontExpanded text($IsGermanLayout ? "Pos1" : "Hm")
0xe049    = [KbdButtonPageUp] $Vkbd visible(ctl.WndExpand.value) $VkdbFontExpanded
NumLock = [KbdButtonNumLock] $Vkbd xy(31,0) depend(Layout) visible(ctl.WndExpand.value) $VkdbFontExpanded
0xe035  = [KbdButton] $Vkbd visible(ctl.WndExpand.value)
0x37    = [KbdButton] $Vkbd visible(ctl.WndExpand.value)
0x4a    = [KbdButton] $Vkbd visible(ctl.WndExpand.value)
0x0f    = [KbdButtonTab] $VkbdRow
0x10    = [KbdButton] $Vkbd
0x11    = [KbdButton] $Vkbd
0x12    = [KbdButton] $Vkbd
0x13    = [KbdButton] $Vkbd
0x14    = [KbdButton] $Vkbd
0x15    = [KbdButton] $Vkbd
0x16    = [KbdButton] $Vkbd
0x17    = [KbdButton] $Vkbd
0x18    = [KbdButton] $Vkbd
0x19    = [KbdButton] $Vkbd
0x1a    = [KbdButton] $Vkbd
0x1b    = [KbdButton] $Vkbd
0x2b    = [KbdButtonSlash] $Vkbd
0xe053    = [KbdButton] $Vkbd xy(30,0) visible(ctl.WndExpand.value) $VkdbFontExpanded text($IsGermanLayout ? "Entf" : "Del")
0xe04f    = [KbdButton] $Vkbd visible(ctl.WndExpand.value) $VkdbFontExpanded text($IsGermanLayout ? "Ende" : "End")
0xe051    = [KbdButtonPageDown] $Vkbd visible(ctl.WndExpand.value) $VkdbFontExpanded
0x47  = [KbdButtonGerHomeEx] xy(31,0)
0x48  = [KbdButton] $Vkbd visible(ctl.WndExpand.value) bg(ctl.NumLock.value? "KbdButton,0,1,0,0,0,2" : "KbdButtonUp,0,1,0,0,0,2")
0x49  = [KbdButtonPageUpEx] $Vkbd visible(ctl.WndExpand.value)
0x3a    = [KbdButtonCaps] $VkbdRow
0x1e    = [KbdButton] $Vkbd
0x1f    = [KbdButton] $Vkbd
0x20    = [KbdButton] $Vkbd
0x21    = [KbdButton] $Vkbd
0x22    = [KbdButton] $Vkbd
0x23    = [KbdButton] $Vkbd
0x24    = [KbdButton] $Vkbd
0x25    = [KbdButton] $Vkbd
0x26    = [KbdButton] $Vkbd
0x27    = [KbdButton] $Vkbd
0x28    = [KbdButton] $Vkbd 
0x1c    = [KbdButtonEnter]  $Vkbd
0x4B  = [KbdButton] $Vkbd xy(143,0) visible(ctl.WndExpand.value) bg(ctl.NumLock.value? "KbdButton,0,1,0,0,0,2" : "KbdButtonLeft,0,1,0,0,0,2")
0x4C  = [KbdButton] $Vkbd visible(ctl.WndExpand.value)
0x4D  = [KbdButton] $Vkbd visible(ctl.WndExpand.value) bg(ctl.NumLock.value? "KbdButton,0,1,0,0,0,2" : "KbdButtonRight,0,1,0,0,0,2")
0x2a    = [KbdButtonLShift_Base] $VkbdRow
0x56	= [KbdButton] $Vkbd visible($IsGermanLayout)
0x2c    = [KbdButton] $Vkbd
0x2d    = [KbdButton] $Vkbd
0x2e    = [KbdButton] $Vkbd
0x2f    = [KbdButton] $Vkbd
0x30    = [KbdButton] $Vkbd
0x31    = [KbdButton] $Vkbd
0x32    = [KbdButton] $Vkbd
0x33    = [KbdButton] $Vkbd
0x34    = [KbdButton] $Vkbd
0x35    = [KbdButton] $Vkbd
0x73    = [KbdButton]            $Vkbd use(keyboardType() == #ktJapanese) visible(ctl.WndExpand.value) $VkdbFontExpanded
0x2a    = [KbdButtonRShiftShort] $Vkbd use(keyboardType() == #ktJapanese) visible(ctl.WndExpand.value) $VkdbFontExpanded
0x2a    = [KbdButtonRShift]      $Vkbd use(keyboardType() != #ktJapanese) visible(ctl.WndExpand.value) $VkdbFontExpanded
_S3     = a(as) sz(23,0) visible(!ctl.WndExpand.value)
_S7     = a(as) sz(54,0) visible(ctl.WndExpand.value) $VkdbFontExpanded
0xe048    = [KbdButtonUp]    $Vkbd
0x4F  = [KbdButtonGerEndEx] $Vkbd xy(60,0)
0x50  = [KbdButton] $Vkbd visible(ctl.WndExpand.value) bg(ctl.NumLock.value? "KbdButton,0,1,0,0,0,2" : "KbdButtonDown,0,1,0,0,0,2")
0x51  = [KbdButtonPageDownEx] $Vkbd visible(ctl.WndExpand.value)
0x1d    = [KbdButtonCtrl]  $VkbdRow text($IsGermanLayout ? "Strg" : "Ctrl")
_S1     = a(as) sz(53,0) visible(ctl.WndExpand.value) $VkdbFontExpanded
0x38    = [KbdButtonCtrl]  $Vkbd text("Alt")
0x39    = [KbdButtonSpace] $Vkbd
0x38	= [KbdButtonCtrl]  $Vkbd text("Alt")
_S2     = a(as) sz(52,0) visible(ctl.WndExpand.value) $VkdbFontExpanded
0x1d    = [KbdButtonCtrl]  $Vkbd text($IsGermanLayout ? "Strg" : "Ctrl")
_S4     = a(as) sz(20,0) visible(!ctl.WndExpand.value)
_S8     = a(as) sz(25,0) visible(ctl.WndExpand.value) $VkdbFontExpanded
0xe04b    = [KbdButtonLeft]  $Vkbd
0xe050    = [KbdButtonDown]  $Vkbd
0xe04d    = [KbdButtonRight] $Vkbd
0x52  = [KbdButtonHorizontal] $Vkbd xy(31,0) visible(ctl.WndExpand.value)
0x53  = [KbdButtonGerDelEx]
0x4e    = [KbdButtonVertical] a(at) xy(5,68) visible(ctl.WndExpand.value)
0xe01c    = [KbdButtonEnterVertical] a(sa) xy(0,5,2) visible(ctl.WndExpand.value)
WndExclude = a(rt) xy(60,13) bg("KbdExclude,0,1,0,0,0,2") at(clickable,fixstyle,singleline,btnlike) onclick(vkbdAddToExclusions(Url)) text("") use(Url != "")
WndSettings = a(rt) xy(40,13) bg("KbdSettings,0,1,0,0,0,2") at(clickable,fixstyle,singleline,btnlike) onclick(vkbdSettings()) text("") visible($IsKIS)
WndExpand = a(rt) xy(20,13) bg("KbdCollapse,0,1,0,0,0,2") at(clickable,fixstyle,singleline,chklike,rememberdata) text("")
WndClose  = a(rt) xy(0,13) bg("KbdClose,0,1,0,0,0,2") at(clickable,fixstyle,singleline,btnlike) onclick(close(0)) text("")
Caption   = a(lt) xy(0,13) f("Normal_Bold") i("KbdLogo")

[KbdButtonGerHomeEx]
@ = a(as) xy(5,0) sz(24,24) ta(cc) bg("KbdButton,0,1,0,0,0,2") at(clickable,fixstyle,singleline,btnlike,underlineoff,nostatistics) visible(ctl.WndExpand.value) text($ShowGermanNames ? "" : (ctl.NumLock.value ? "7" : "Hm")) $VkdbNormalFont
BtnText = a(cc) visible($ShowGermanNames) text("Pos1") $VkdbFontExpanded

[KbdButtonGerDelEx]
@ = a(as) xy(5,0) sz(24,24) ta(cc) bg("KbdButton,0,1,0,0,0,2") at(clickable,fixstyle,singleline,btnlike,underlineoff,nostatistics) visible(ctl.WndExpand.value) text($ShowGermanNames ? "" : (ctl.NumLock.value ? "." : "Del")) $VkdbNormalFont
BtnText = a(cc) visible($ShowGermanNames) text("Entf") $VkdbFontExpanded

[KbdButtonGerEndEx]
@ = a(as) xy(5,0) sz(24,24) ta(cc) bg("KbdButton,0,1,0,0,0,2") at(clickable,fixstyle,singleline,btnlike,underlineoff,nostatistics) visible(ctl.WndExpand.value) text($ShowGermanNames ? "" : (ctl.NumLock.value ? "1" : "End")) $VkdbNormalFont
BtnText = a(cc) visible($ShowGermanNames) text("Ende") $VkdbFontExpanded

[KbdButtonPageUp]
@ = sz(24,24) ta(cc) at(clickable,fixstyle, btnlike,underlineoff,nostatistics) bg( $IsGermanLayout ? "KbdButtonUpGer,0,1,0,0,0,2" : "KbdButton,0,1,0,0,0,2") text($IsGermanLayout ? "" : "PUp") $VkdbFontExpanded
BtnTextGer = text("Bild") a(ct) visible($IsGermanLayout) $VkdbFontExpanded

[KbdButtonPageDown]
@ = sz(24,24) ta(cc) at(clickable,fixstyle,btnlike,underlineoff,nostatistics) bg( $IsGermanLayout ? "KbdButtonDownGer,0,1,0,0,0,2" : "KbdButton,0,1,0,0,0,2")  text($IsGermanLayout ? "" : "PDn") $VkdbFontExpanded
BtnTextGer = text("Bild") a(ct) visible($IsGermanLayout) $VkdbFontExpanded

[KbdButtonPageUpEx]
@ = sz(24,24) ta(cc) at(clickable,fixstyle, btnlike,underlineoff,nostatistics) bg( $IsGermanLayout && !ctl.NumLock.value ? "KbdButtonUpGer,0,1,0,0,0,2" : "KbdButton,0,1,0,0,0,2") text(ctl.NumLock.value ? "9" : if($IsGermanLayout, "", "PUp"))
BtnTextGer = text("Bild") a(ct) visible($IsGermanLayout && !ctl.NumLock.value) $VkdbFontExpanded

[KbdButtonPageDownEx]
@ = sz(24,24) ta(cc) at(clickable,btnlike,underlineoff,nostatistics) bg( $IsGermanLayout && !ctl.NumLock.value ? "KbdButtonDownGer,0,1,0,0,0,2" : "KbdButton,0,1,0,0,0,2")  text(ctl.NumLock.value ? "3" : if($IsGermanLayout, "", "PDn"))
BtnTextGer = text("Bild") a(ct) visible($IsGermanLayout && !ctl.NumLock.value) $VkdbFontExpanded

[KbdButtonVertical]
@ = a(lt) sz(24,53) ta(cc) bg("KbdVertical,0,1,0,0,0,2") at(clickable,fixstyle,singleline,btnlike,underlineoff,nostatistics)

[KbdButtonEnterVertical]
@ = a(lt) sz(24,53) ta(cc) bg("KbdEnterVertical,0,1,0,0,0,2") at(clickable,fixstyle,singleline,btnlike,underlineoff,nostatistics)

[KbdButtonHorizontal]
@ = a(lt) sz(53,24) ta(cc) bg("KbdHorizontal,0,1,0,0,0,2") at(clickable,fixstyle,singleline,btnlike,underlineoff,nostatistics) text(ctl.NumLock.value ? "0" : if($IsGermanLayout, "", "Ins"))  $VkdbNormalFont
BtnTextGer = text("Einfg") a(cc) visible($IsGermanLayout && !ctl.NumLock.value) $VkdbFontExpanded

[KbdButton]
@ = a(lt) sz(24,24) ta(cc) bg("KbdButton,0,1,0,0,0,2") at(clickable,fixstyle,singleline,btnlike,underlineoff,nostatistics) $VkdbNormalFont

[KbdButtonTab]
@ = a(lt) sz(38,24) ta(cc) bg("KbdButtonTab"+if($IsGermanLayout,"2")+",0,1,0,0,0,2") at(clickable,fixstyle,singleline,btnlike,underlineoff,nostatistics) text($IsGermanLayout ? "" : "Tab") $VkdbNormalFont

[KbdButtonCaps]
@ = a(lt) sz(47,24) ta(cc) bg("KbdButtonCaps"+if($IsGermanLayout,"2")+",0,1,0,0,0,2") at(clickable,fixstyle,singleline,btnlike,underlineoff,nostatistics) text($IsGermanLayout ? "" : "Caps") $VkdbNormalFont

[KbdButtonLShift_Base]
@ = a(lt) sz(a,24) at(clickable,fixstyle,singleline,chklike,underlineoff,noowncontent,nostatistics)
Icon = i(if($IsGermanLayout,"KbdButtonLShiftShort,0,1,0,0,0,2","KbdButtonLShift,0,1,0,0,0,2")) xy(,,-3) bp(ctl.hotlight = ctl.parent.hotlight; ctl.focused = ctl.parent.focused; ctl.selected=ctl.parent.selected)
Text = a(lt) sz(p,p) ta(cc) text($IsGermanLayout? "": ctl.parent.text)

[KbdButtonLShift]
@ = a(lt) sz(61,24) ta(cc) bg("KbdButtonLShift,0,1,0,0,0,2") at(clickable,fixstyle,singleline,chklike,underlineoff,nostatistics) text($IsGermanLayout ? "" : "Shift") $VkdbNormalFont

[KbdButtonLShiftShort]
@ = a(lt) sz(32,24) ta(cc) bg("KbdButtonLShiftShort,0,1,0,0,0,2") at(clickable,fixstyle,singleline,chklike,underlineoff,nostatistics)

[KbdButtonRShift]
@ = a(lt) sz(74,24) ta(cc) bg("KbdButtonRShift,0,1,0,0,0,2") at(clickable,fixstyle,singleline,chklike,underlineoff,nostatistics) text($IsGermanLayout ? "" : "Shift") $VkdbNormalFont

[KbdButtonRShiftShort]
@ = a(lt) sz(49,24) ta(cc) bg("KbdButtonRShiftShort,0,1,0,0,0,2") at(clickable,fixstyle,singleline,chklike,underlineoff,nostatistics) 

[KbdButtonCtrl]
@ = a(lt) sz(38,24) ta(cc) bg("KbdButtonCtrl,0,1,0,0,0,2") at(clickable,fixstyle,singleline,chklike,underlineoff,nostatistics)

[KbdButtonNumLock]
@ = a(lt) sz(24,24) ta(cc) bg("KbdButton,0,1,0,0,0,2") at(clickable,fixstyle,singleline,chklike,underlineoff,nostatistics)

[KbdButtonBs]
@ = a(lt) sz(53,24) ta(cc) bg("KbdButtonBs,0,1,0,0,0,2") at(clickable,fixstyle,singleline,btnlike,underlineoff,nostatistics)

[KbdButtonBsShort]
@ = a(lt) sz(24,24) ta(cc) bg("KbdButtonBsShort,0,1,0,0,0,2") at(clickable,fixstyle,singleline,btnlike,underlineoff,nostatistics)

[KbdButtonSlash]
@ = a(lt) sz(39,24) ta(cc) bg("KbdButtonSlash,0,1,0,0,0,2") at(clickable,fixstyle,singleline,btnlike,underlineoff,nostatistics)

[KbdButtonEnter]
@ = a(lt) sz(59,24) ta(cc) bg("KbdButtonEnter"+if($IsGermanLayout,"2")+",0,1,0,0,0,2") at(clickable,fixstyle,singleline,btnlike,underlineoff,nostatistics) text($IsGermanLayout ? "" : "Enter") $VkdbNormalFont

[KbdButtonSpace]
@ = a(lt) sz(153,24) ta(cc) bg("KbdButtonSpace,0,1,0,0,0,2") at(clickable,fixstyle,singleline,btnlike,underlineoff,nostatistics)

[KbdButtonLeft]
@ = a(lt) sz(24,24) ta(cc) bg("KbdButtonLeft,0,1,0,0,0,2") at(clickable,fixstyle,singleline,btnlike,underlineoff,nostatistics)

[KbdButtonRight]
@ = a(lt) sz(24,24) ta(cc) bg("KbdButtonRight,0,1,0,0,0,2") at(clickable,fixstyle,singleline,btnlike,underlineoff,nostatistics)

[KbdButtonUp]
@ = a(lt) sz(24,24) ta(cc) bg("KbdButtonUp,0,1,0,0,0,2") at(clickable,fixstyle,singleline,btnlike,underlineoff,nostatistics)

[KbdButtonDown]
@ = a(lt) sz(24,24) ta(cc) bg("KbdButtonDown,0,1,0,0,0,2") at(clickable,fixstyle,singleline,btnlike,underlineoff,nostatistics)

[BannedHosts]
@  = [StyledWindowT_Small] at(dragable,resizable,a_ok,a_cancel) subst( BodyEx( [BannedHosts_Body] ) ) sz(393,250) alias(taskviewedit) h(14831) ext(1)

[BannedHosts_Body]
@       = sz(p,p) a(lt)
Frame1  = [IDSSettings_Body_Settings] extprm(1)
List    = [BannedHosts_Body_List]

[BannedHosts_Body_List]
@       = $List alias(vector) xy(,7,,) a(la) v(BannedHosts) ext(1)
IP      = sz(a,a) text(ip(IP))
Time    = sz(a,a) text(datetime(Time))
footer  = [BannedHosts_Body_List_footer]

[BannedHosts_Body_List_footer]
@       = f("GridGroup") sz(p,22) rs(100,0)
Unban   = $Link xy(5,4) i("listctrls,2,2,2,2,2,2") onclick(unbanHost(seldata())) enable(depend(selcount()) == 1)
border  = a(lt) sz(p,2) bg("GridGroup")
